<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Hazzill &mdash; Notificações</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700|Work+Sans:300,400,700" rel="stylesheet">
    <link rel="stylesheet" href="{$GET_TEMA}/fonts/icomoon/style.css">

    <link rel="stylesheet" href="{$GET_TEMA}/css/bootstrap.min.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/magnific-popup.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/jquery-ui.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/owl.carousel.min.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="{$GET_TEMA}/css/animate.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mediaelement@4.2.7/build/mediaelementplayer.min.css">
    
    <link rel="stylesheet" href="{$GET_TEMA}/fonts/flaticon/font/flaticon.css">
  
    <link rel="stylesheet" href="{$GET_TEMA}/css/aos.css">

    <link rel="stylesheet" href="{$GET_TEMA}/css/style.css">

    <link rel="sortcut icon" href="{$GET_TEMA}/images/icon_flavicon.ico" type="image/x-icon" />
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>

    <script type="text/javascript" src="https://ajax.cloudflare.com/cdn-cgi/scripts/04b3eb47/cloudflare-static/mirage2.min.js"></script>
    <script>
      $(document).ready(function(e) {
      
      $("form[ajax=true]").submit(function(e) {
          
          e.preventDefault();
          
          var form_data = $(this).serialize();
          var form_url = $(this).attr("action");
          var form_method = $(this).attr("method").toUpperCase();
          
          $.ajax({
              url: form_url, 
              type: form_method,
              data: form_data,
              cache: false,
              success: function(data){
              },
              error: function(data){
                console.log('ERRO AO ACHAR A FUNÇÃO!!!');
              }
          });     
      });
      });
      //------------
      function clickLike(e){
        document.getElementById('alert_'+e).style.position="relative";
        document.getElementById('alert_'+e).style.opacity=1;
        clickDislike(e);
      }
      function clickDislike(e){
        document.getElementById('id_'+e).style.position="absolute";
        document.getElementById('id_'+e).style.opacity=0;
      }
    //------------------
      window.onload = function inicio(){
      if ($(window).width() > 500) {
        document.getElementById("logo").src = 'http://1hazzill.000webhostapp.com/views/images/logo_main.png';
      } else {
        document.getElementById("logo").src = 'http://1hazzill.000webhostapp.com/views/images/logo_main_2.png';
      }
        mudarLogo();
      }
      function mudarLogo(){
      if ($(window).width() > 500) {
        document.getElementById("logo").src = 'http://1hazzill.000webhostapp.com/views/images/logo_main.png';
      } else {
        document.getElementById("logo").src = 'http://1hazzill.000webhostapp.com/views/images/logo_main_2.png';
      }
    setTimeout("mudarLogo()", 6000);
    }
  //------
      function closeAlert(e){
        document.getElementById('alert_'+e).style.position="absolute";
        document.getElementById('alert_'+e).style.opacity=0;
      }
    </script>
  </head>
  <body>
  
  <div class="site-wrap">

    <div class="site-mobile-menu">
      <div class="site-mobile-menu-header">
        <div class="site-mobile-menu-close mt-3">
          <span class="icon-close2 js-menu-toggle"></span>
        </div>
      </div>
      <div class="site-mobile-menu-body"></div>
    </div> <!-- .site-mobile-menu -->
    
  {$GET_CABE}
    <div style="height: 113px;"></div>
    <div class="unit-5 overlay" style="background-image: url('{$GET_TEMA}/images/hero_1.jpg');">
      <div class="container text-center">
        <h2 class="mb-0">Notificações</h2>
        <p class="mb-0 unit-6"><a href="{$GET_HOME}">Home</a> <span class="sep">></span> <span>Notificações</span></p>
      </div>
    </div>
    {foreach from=$ACE item=a}
    {if (isset($a.usu_nome))}
    <center>
    <form method="GET"action="notificaFinish/{$a.usu_id}"ajax="true">
      <div style="z-index: 1;"class="alert alert-success" role="alert" id="alert_{$a.usu_id}"style="opacity:0;position:absolute;">
        Joinder! O {$a.tip_tipo}, <a href="{$GET_PERFIL_VISTANTE}/{$a.usu_id}">{$a.usu_nome}</a> aceitou sua proposta, entre em contato no email: {$a.usu_email}.<br/>Ou descarte essa oferta.<br/>
        <input type="submit" class="btn btn-outline-danger" onclick="closeAlert('{$a.usu_id}')"value="Descartar"></input>
      </div>
    </form>
    </center>
    {/if}
    {/foreach}{$GET_CHATBOT}
    <div class="site-section bg-light">
      <div class="container">
        {foreach from=$NOT item=n}
        {if (isset($n.usu_nome))}<center>
        <div class="alert alert-success" role="alert" id="alert_{$n.usu_id}"style="opacity:0;position:absolute;">
          Joinder! O {$n.tip_tipo}, <a href="{$GET_PERFIL_VISTANTE}/{$n.usu_id}">{$n.usu_nome}</a> foi aceitado, entre em contato no email: {$n.usu_email}.
          <br/>Lembrando que ele(a) é da área: {$n.are_area}<br/>
          <button type="button" class="btn btn-outline-success" onclick="closeAlert('{$n.usu_id}')">Fechar</button>  
        </div></center>
        <div class="row justify-content-center mb-5" id="id_{$n.usu_id}">
              <div class="rounded border jobs-wrap">
                  <a class="job-item d-block d-md-flex align-items-center  border-bottom fulltime">
                    <div class="company-logo blank-logo text-center text-md-left pl-3">
                      <img src="https://live.staticflickr.com/65535/4915{$n.img_url}" alt="Imagem não carregou" class="img-fluid mx-auto">
                    </div>
                    <div class="job-details h-100">
                      <div class="p-3 align-self-center">
                        <h3>{$n.usu_nome}</h3>
                        <div class="d-block d-lg-flex">

                          <div class="mr-3"><span class="icon-suitcase mr-1"></span> {$n.are_area} </div>
                          <div><span class="icon-money mr-1"><br></span>{$n.tip_tipo}</div>
                        </div>
                      </div>
                    </div>
                    <form method="GET"action="notificaAction/{$n.usu_id}/2"ajax="true">
                    <div class="job-category align-self-center">
                      <div class="">
                       <input onclick="clickLike('{$n.usu_id}')"value="Aceitar"type="submit"class="btn btn-outline-primary"> </input>
                      </div>
                    </div>
                  </form>
                  <form method="GET"action="notificaAction/{$n.usu_id}/3"ajax="true">
                    <div class="job-category align-self-center">
                        <div class="p-2">
                          <input onclick="clickDislike('{$n.usu_id}')"value="Rejeitar"type="submit"class="btn btn-outline-danger" ></input>
                        </hr>
                        </div>
                      </div>
                  </form>
                  </a>
                  <div class="row">{$n.usu_descricao}</div>
                </div>
              </div>
              {/if}
            {/foreach}
  </div>
  {$GET_FOOTER}
  <script src="{$GET_TEMA}/js/jquery-3.3.1.min.js"></script>
  <script src="{$GET_TEMA}/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="{$GET_TEMA}/js/jquery-ui.js"></script>
  <script src="{$GET_TEMA}/js/popper.min.js"></script>
  <script src="{$GET_TEMA}/js/bootstrap.min.js"></script>
  <script src="{$GET_TEMA}/js/owl.carousel.min.js"></script>
  <script src="{$GET_TEMA}/js/jquery.stellar.min.js"></script>
  <script src="{$GET_TEMA}/js/jquery.countdown.min.js"></script>
  <script src="{$GET_TEMA}/js/jquery.magnific-popup.min.js"></script>
  <script src="{$GET_TEMA}/js/bootstrap-datepicker.min.js"></script>
  <script src="{$GET_TEMA}/js/aos.js"></script>

  
  <script src="{$GET_TEMA}/js/mediaelement-and-player.min.js"></script>

  <script src="{$GET_TEMA}/js/main.js"></script>
    

  <script>
      document.addEventListener('DOMContentLoaded', function() {
                var mediaElements = document.querySelectorAll('video, audio'), total = mediaElements.length;

                for (var i = 0; i < total; i++) {
                    new MediaElementPlayer(mediaElements[i], {
                        pluginPath: 'https://cdn.jsdelivr.net/npm/mediaelement@4.2.7/build/',
                        shimScriptAccess: 'always',
                        success: function () {
                            var target = document.body.querySelectorAll('.player'), targetTotal = target.length;
                            for (var j = 0; j < targetTotal; j++) {
                                target[j].style.visibility = 'visible';
                            }
                  }
                });
                }
            });
    </script>


    <script>
      // This example displays an address form, using the autocomplete feature
      // of the Google Places API to help users fill in the information.

      // This example requires the Places library. Include the libraries=places
      // parameter when you first load the API. For example:
      // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

      var placeSearch, autocomplete;
      var componentForm = {
        street_number: 'short_name',
        route: 'long_name',
        locality: 'long_name',
        administrative_area_level_1: 'short_name',
        country: 'long_name',
        postal_code: 'short_name'
      };
      function fillInAddress() {
        // Get the place details from the autocomplete object.
        var place = autocomplete.getPlace();

        for (var component in componentForm) {
          document.getElementById(component).value = '';
          document.getElementById(component).disabled = false;
        }

        // Get each component of the address from the place details
        // and fill the corresponding field on the form.
        for (var i = 0; i < place.address_components.length; i++) {
          var addressType = place.address_components[i].types[0];
          if (componentForm[addressType]) {
            var val = place.address_components[i][componentForm[addressType]];
            document.getElementById(addressType).value = val;
          }
        }
      }

      // Bias the autocomplete object to the user's geographical location,
      // as supplied by the browser's 'navigator.geolocation' object.
      function geolocate() {
        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(function(position) {
            var geolocation = {
              lat: position.coords.latitude,
              lng: position.coords.longitude
            };
            var circle = new google.maps.Circle({
              center: geolocation,
              radius: position.coords.accuracy
            });
            autocomplete.setBounds(circle.getBounds());
          });
        }
      }
    </script>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&libraries=places&callback=initAutocomplete"
        async defer></script>

  </body>
</html>